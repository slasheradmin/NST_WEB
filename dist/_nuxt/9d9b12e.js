(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1056:function(e,t,n){"use strict";n.r(t);var r=n(485),o=n(672),l=n(663),c=n(662),d=n(899),m=n(1043),w=n(836),f=n(11),v=(n(51),n(159)),x=(n(487),{data:function(){return{username:"",password:"",loginDialog:!0,loading:!1}},methods:{login:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,n=v.default.firestore().collection("user").doc("admin"),t.next=5,n.get();case 5:(r=t.sent).exists?(data=r.data(),e.username===data.username&&e.password===data.password?(localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",e.username),alert("เข้าสู่ระบบสำเร็จ!"),e.$router.push("/admin")):alert("ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง")):alert("ไม่พบข้อมูลผู้ใช้"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Firebase Error:",t.t0),alert("เกิดข้อผิดพลาด: "+t.t0.message);case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}}),h=n(86),component=Object(h.a)(x,(function(){var e=this,t=e._self._c;return t(c.a,{staticClass:"login-container"},[t(d.a,{attrs:{persistent:"","max-width":"360px"},model:{value:e.loginDialog,callback:function(t){e.loginDialog=t},expression:"loginDialog"}},[t(o.a,{staticClass:"login-card"},[t(l.d,{staticClass:"text-center title"},[e._v("เข้าสู่ระบบ")]),e._v(" "),t(l.c,[t(m.a,{ref:"loginForm"},[t(w.a,{attrs:{label:"Username",required:"",outlined:"",dense:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),t(w.a,{attrs:{label:"Password",type:"password",required:"",outlined:"",dense:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),t(l.a,{staticClass:"button-container"},[t(r.a,{staticClass:"login-btn",attrs:{loading:e.loading},on:{click:e.login}},[e._v("\n          เข้าสู่ระบบ\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);